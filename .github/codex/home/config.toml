model = "gpt-5"

[[agents]]
name = "gemini"
enabled = true
command-read-only = "gemini"
command-write = "gemini"
args-read-only = ["-y"]
args-write = ["-y"]

[[agents]]
name = "claude"
enabled = true
command-read-only = "claude"
command-write = "claude"
args-read-only = ["--model", "sonnet"]
args-write = ["--model", "sonnet"]

[[agents]]
name = "gpt_pro"
enabled = true
command-read-only = "codex"
command-write = "codex"
args-read-only = ["-s", "read-only", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5", "-c", "model_reasoning_effort=\"high\""]
args-write = ["-s", "workspace-write", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5", "-c", "model_reasoning_effort=\"high\""]

[[agents]]
name = "gpt_codex"
enabled = true
command-read-only = "codex"
command-write = "codex"
args-read-only = ["-s", "read-only", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5-codex", "-c", "model_reasoning_effort=\"high\""]
args-write = ["-s", "workspace-write", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5-codex", "-c", "model_reasoning_effort=\"high\""]

[[agents]]
name = "code"
enabled = true
command-read-only = "codex"
command-write = "codex"
args-read-only = ["-s", "read-only", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5-codex"]
args-write = ["-s", "workspace-write", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5-codex"]

# SPEC-KIT-070 Tier 2: Cheap models for quality gates
[[agents]]
name = "gemini_flash"
enabled = true
command-read-only = "gemini"
command-write = "gemini"
args-read-only = ["-y", "--model", "gemini-2.5-flash"]
args-write = ["-y", "--model", "gemini-2.5-flash"]

[[agents]]
name = "claude_haiku"
enabled = true
command-read-only = "claude"
command-write = "claude"
args-read-only = ["--model", "haiku"]
args-write = ["--model", "haiku"]

[[agents]]
name = "gpt_medium"
enabled = true
command-read-only = "codex"
command-write = "codex"
args-read-only = ["-s", "read-only", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5", "-c", "model_reasoning_effort=\"medium\""]
args-write = ["-s", "workspace-write", "-a", "never", "exec", "--skip-git-repo-check", "-m", "gpt-5", "-c", "model_reasoning_effort=\"medium\""]

[subagents]

# REMOVED: All spec-kit subagent configs (SPEC-KIT-900)
# Native commands now use SPEC_KIT_REGISTRY exclusively:
# - spec-auto → /speckit.auto (native pipeline coordinator)
# - new-spec → /speckit.new (native SPEC creation)
#
# Prompt-expanding commands (plan, tasks, implement, validate, audit, unlock)
# use subagent_defaults in Rust code, not config.toml entries.

[mcp_servers.repo_search]
command = "uvx"
args = ["awslabs.git-repo-research-mcp-server@latest"]
startup_timeout_sec = 30
tool_timeout_sec = 120

[mcp_servers.doc_index]
command = "npx"
args = ["-y", "open-docs-mcp", "--docsDir", "/home/thetu/code/docs"]
startup_timeout_sec = 20
tool_timeout_sec = 60

[mcp_servers.git_status]
command = "uvx"
args = ["mcp-server-git", "--repository", "/home/thetu/code"]
env = { "GIT_PAGER" = "cat" }
startup_timeout_sec = 20
tool_timeout_sec = 120

[mcp_servers.uniprof]
command = "npx"
args = ["-y", "uniprof", "mcp", "run"]
startup_timeout_sec = 30
tool_timeout_sec = 300

[mcp_servers.hal]
command = "npx"
args = ["-y", "hal-mcp"]
startup_timeout_sec = 20
tool_timeout_sec = 120
