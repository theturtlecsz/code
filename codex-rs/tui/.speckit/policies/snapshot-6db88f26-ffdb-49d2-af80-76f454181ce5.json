{
  "schema_version": "1.0",
  "policy_id": "6db88f26-ffdb-49d2-af80-76f454181ce5",
  "hash": "7972746356f21f559c83bbfc5751dbca978c1e1bb6b763ae675065b684733999",
  "created_at": "2026-01-19T02:51:20.637126041Z",
  "model_config": {
    "max_tokens": 8000,
    "top_k": 15,
    "pre_filter_limit": 150,
    "diversity_lambda": 0.7,
    "iqo_llm_enabled": true,
    "hybrid_enabled": true,
    "vector_weight": 0.2,
    "tier2_enabled": true,
    "tier2_cache_ttl_hours": 24
  },
  "weights": {
    "usage": 0.3,
    "recency": 0.3,
    "priority": 0.25,
    "decay": 0.15
  },
  "prompts": {},
  "source_files": [
    "/home/thetu/.config/code/stage0.toml"
  ],
  "governance": {
    "meta": {
      "schema_version": "1.0",
      "effective_date": "2026-01-12"
    },
    "system_of_record": {
      "primary": "memvid",
      "fallback": "local-memory",
      "fallback_enabled": true
    },
    "routing": {
      "cloud": {
        "architect": [
          "claude-sonnet-4-20250514",
          "gpt-4o",
          "gemini-2.0-flash"
        ],
        "implementer": [
          "claude-sonnet-4-20250514",
          "gpt-4o"
        ],
        "judge": [
          "claude-sonnet-4-20250514"
        ],
        "default_architect": "claude-sonnet-4-20250514",
        "default_implementer": "claude-sonnet-4-20250514",
        "default_judge": "claude-sonnet-4-20250514"
      },
      "reflex": {
        "enabled": false,
        "endpoint": "http://127.0.0.1:3009/v1",
        "model": "qwen2.5-coder-7b-instruct",
        "timeout_ms": 1500,
        "json_schema_required": true,
        "fallback_to_cloud": true,
        "thresholds": {
          "p95_latency_ms": 2000,
          "success_parity_percent": 85,
          "json_schema_compliance_percent": 100
        }
      }
    },
    "capture": {
      "mode": "prompts_only",
      "store_embeddings": true
    },
    "budgets": {
      "tokens": {
        "plan": 8000,
        "tasks": 4000,
        "implement": 6000,
        "validate": 4000,
        "audit": 4000,
        "unlock": 2000
      },
      "cost": {
        "warn_threshold": 5.0,
        "confirm_threshold": 10.0,
        "hard_limit": 25.0,
        "hard_limit_enabled": false
      }
    },
    "scoring": {
      "usage": 0.3,
      "recency": 0.3,
      "priority": 0.25,
      "decay": 0.15,
      "vector_weight": 0.6,
      "lexical_weight": 0.4
    },
    "gates": {
      "reflex_promotion": {
        "p95_latency_ms": 2000,
        "success_parity_percent": 85,
        "json_schema_compliance_percent": 100,
        "golden_query_regression_allowed": false
      },
      "local_memory_sunset": {
        "retrieval_p95_parity": true,
        "search_quality_parity": true,
        "stability_days": 30,
        "zero_fallback_activations": true
      }
    },
    "security": {
      "redaction": {
        "env_var_patterns": [
          "*_KEY",
          "*_SECRET",
          "*_TOKEN",
          "*_PASSWORD"
        ],
        "file_patterns": [
          ".env",
          "credentials",
          "secrets"
        ]
      },
      "export": {
        "require_explicit_action": true,
        "allow_no_export_marking": true,
        "encrypt_at_rest": false
      }
    }
  }
}